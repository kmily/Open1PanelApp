# 用户指南

使用 1Panel 开源应用管理 1Panel 服务器的完整指南。

---

## 目录

1. [入门](#入门)
2. [首次启动](#首次启动)
3. [添加服务器](#添加服务器)
4. [仪表板概览](#仪表板概览)
5. [管理容器](#管理容器)
6. [文件管理](#文件管理)
7. [数据库管理](#数据库管理)
8. [网站管理](#网站管理)
9. [系统设置](#系统设置)
10. [故障排除](#故障排除)

---

## 入门

### 什么是 1Panel 开源应用？

1Panel 开源应用是一个基于 Flutter 的移动端和桌面端客户端，用于管理 1Panel 服务器。它提供了一个现代化、直观的界面，支持：

- 监控服务器状态和资源
- 管理 Docker 容器和镜像
- 浏览和编辑文件
- 管理数据库（MySQL、PostgreSQL、Redis）
- 管理网站和 SSL 证书
- 查看系统日志

### 系统要求

**移动端：**
- Android 6.0+ (API 23+)
- iOS 12.0+

**桌面端：**
- Windows 10+
- macOS 10.14+
- Linux (Ubuntu 18.04+, Fedora 30+)

**Web：**
- 现代浏览器（Chrome、Firefox、Safari、Edge）

---

## 首次启动

首次打开应用时，您将看到欢迎界面：

1. **欢迎**：应用功能介绍
2. **服务器设置**：添加您的第一个 1Panel 服务器
3. **开始使用**：开始管理您的服务器

---

## 添加服务器

### 前置条件

添加服务器前，请确保：
- 您的 1Panel 服务器正在运行且可访问
- 您已从 1Panel 面板获取 API 密钥
- 您的设备可以连接到服务器网络

### 分步设置

1. **点击"添加服务器"** 在主屏幕上
2. **输入服务器信息**：
   - **名称**：此服务器的友好名称（例如"生产服务器"）
   - **地址**：服务器 URL（例如 `https://panel.example.com` 或 `http://192.168.1.100:8080`）
   - **API 密钥**：您的 1Panel API 密钥（在 1Panel 面板设置 → API 接口中找到）

3. **测试连接**：点击"测试连接"进行验证
4. **保存**：点击"保存"添加服务器

### 查找 API 密钥

1. 登录您的 1Panel Web 界面
2. 进入 **面板设置** → **API 接口**
3. 如果尚未启用，启用 API 访问
4. 复制 API 密钥
5. 添加允许的 IP（您设备的 IP 或 `0.0.0.0/0` 允许所有 IP）

### 安全提示

- **使用 HTTPS**：生产环境始终使用 HTTPS
- **IP 白名单**：限制 API 访问特定 IP
- **API 密钥**：保持 API 密钥安全并定期轮换
- **网络**：尽可能使用 VPN 进行远程服务器访问

---

## 仪表板概览

仪表板提供服务器状态的快速概览：

### 状态卡片

- **系统状态**：CPU、内存、磁盘使用情况
- **容器状态**：运行/停止的容器数量
- **网站状态**：活跃网站数量
- **数据库状态**：数据库服务状态

### 快速操作

- **容器**：跳转到容器管理
- **文件**：打开文件管理器
- **数据库**：访问数据库管理
- **网站**：管理网站
- **日志**：查看系统日志

### 实时监控

仪表板实时更新显示：
- CPU 使用百分比
- 内存使用（已用/总计）
- 磁盘使用（已用/总计）
- 网络 I/O 统计

---

## 管理容器

### 容器列表

查看所有 Docker 容器：
- **状态指示器**：绿色（运行中）、红色（已停止）
- **名称**：容器名称
- **镜像**：Docker 镜像
- **端口**：暴露的端口
- **运行时间**：容器已运行时长

### 容器操作

点击任何容器可：
- **查看详情**：检查容器配置
- **查看日志**：实时流式传输容器日志
- **启动/停止**：控制容器状态
- **重启**：重启容器
- **删除**：移除容器

### 容器日志

日志查看器提供：
- 实时日志流
- 搜索功能
- 日志级别过滤
- 复制和分享日志
- 自动滚动切换

### 创建容器

1. 在容器标签页点击 **+** 按钮
2. 从列表中选择镜像或输入自定义镜像名称
3. 配置容器选项：
   - 容器名称
   - 端口映射
   - 卷挂载
   - 环境变量
4. 点击 **创建** 启动容器

---

## 文件管理

### 文件浏览器

浏览您的服务器文件系统：
- **面包屑导航**：快速文件夹跳转
- **文件列表**：名称、大小、修改日期
- **快速操作**：长按显示上下文菜单

### 文件操作

- **打开**：查看文件内容（文本文件）
- **下载**：将文件保存到您的设备
- **上传**：将文件发送到服务器
- **重命名**：更改文件/文件夹名称
- **删除**：移除文件/文件夹
- **创建**：新建文件或文件夹
- **权限**：查看和编辑文件权限

### 文本编辑器

内置文本编辑器用于配置文件：
- 常见格式语法高亮
- 行号
- 搜索和替换
- 自动保存
- 分享/导出文件

### 支持的文件类型

- **文本文件**：.txt、.md、.json、.yaml、.xml
- **代码文件**：.py、.js、.html、.css、.dart 等
- **配置文件**：.conf、.ini、.env
- **日志**：具有特殊格式的 .log 文件

---

## 数据库管理

### 支持的数据库

- **MySQL/MariaDB**：完整管理支持
- **PostgreSQL**：连接和查询支持
- **Redis**：键值操作

### 数据库操作

1. **选择数据库类型**：从 MySQL、PostgreSQL 或 Redis 中选择
2. **连接**：应用使用 1Panel 配置自动连接
3. **浏览**：查看数据库、表和数据
4. **查询**：执行 SQL 查询（MySQL/PostgreSQL）
5. **管理**：创建、备份和恢复数据库

### MySQL/MariaDB 功能

- 数据库列表和管理
- 表结构查看
- 带分页的数据浏览
- SQL 查询执行
- 用户管理
- 备份和恢复

### Redis 功能

- 键浏览和搜索
- 值查看（字符串、哈希、列表、集合、有序集合）
- 键过期管理
- Redis CLI 界面
- 内存使用统计

---

## 网站管理

### 网站列表

查看所有配置的网站：
- **域名**：主域名
- **状态**：运行/停止指示器
- **SSL**：证书状态
- **类型**：静态、PHP、反向代理等

### 网站操作

- **查看详情**：配置和统计
- **启动/停止**：控制网站可用性
- **配置**：编辑网站设置
- **SSL**：管理证书
- **删除**：移除网站配置

### SSL 证书管理

- **查看证书**：列出所有 SSL 证书
- **续期**：手动证书续期
- **自动续期**：启用自动续期
- **Let's Encrypt**：颁发免费证书
- **自定义**：上传您自己的证书

---

## 系统设置

### 应用设置

自定义应用行为：

- **主题**：浅色、深色或系统默认
- **语言**：英语、中文或系统默认
- **通知**：启用/禁用推送通知
- **自动刷新**：仪表板刷新间隔
- **缓存**：清除应用缓存

### 服务器设置

管理您的服务器连接：

- **编辑服务器**：更新服务器详情
- **测试连接**：验证服务器连接
- **删除服务器**：从应用中移除服务器
- **默认服务器**：设置主服务器

### 安全设置

- **生物识别锁**：指纹/面容 ID 保护
- **PIN 码**：应用访问 PIN
- **自动锁定**：闲置后锁定应用
- **隐藏敏感数据**：隐藏 API 密钥和密码

---

## 故障排除

### 连接问题

**问题**：无法连接到服务器

**解决方案**：
1. 验证服务器 URL 是否正确
2. 检查 API 密钥是否有效
3. 确保 IP 白名单包含您的设备
4. 测试网络连接（ping 服务器）
5. 如果使用 SSL，验证 HTTPS 证书

### 认证错误

**问题**："API 密钥错误"或"未授权"

**解决方案**：
1. 在 1Panel 设置中重新生成 API 密钥
2. 更新 IP 白名单
3. 检查系统时间是否同步
4. 验证 API 接口是否已启用

### 性能问题

**问题**：应用缓慢或无响应

**解决方案**：
1. 检查网络连接质量
2. 降低仪表板刷新频率
3. 清除应用缓存
4. 重启应用
5. 更新到最新版本

### 数据未更新

**问题**：仪表板显示陈旧数据

**解决方案**：
1. 下拉刷新
2. 检查服务器连接
3. 验证 API 权限
4. 重启应用

### 常见错误代码

| 代码 | 含义 | 解决方案 |
|------|------|----------|
| 401 | 未授权 | 检查 API 密钥和 IP 白名单 |
| 403 | 禁止访问 | 验证 API 权限 |
| 404 | 未找到 | 检查服务器 URL |
| 500 | 服务器错误 | 检查 1Panel 服务器日志 |
| 503 | 服务不可用 | 1Panel 服务可能已停止 |

---

## 技巧和最佳实践

### 安全

- 使用强而唯一的 API 密钥
- 启用 IP 白名单
- 所有连接使用 HTTPS
- 启用应用锁（生物识别或 PIN）
- 定期轮换 API 密钥

### 性能

- 尽可能使用本地网络
- 限制并发连接
- 关闭未使用的服务器连接
- 定期清除应用缓存

### 组织

- 使用描述性的服务器名称
- 使用标签对相关容器进行分组
- 记录自定义配置
- 重要数据定期备份

---

## 获取帮助

### 应用内帮助

- 在任何屏幕点击 **?** 图标获取上下文相关帮助
- 查看设置和选项的工具提示

### 在线资源

- **文档**：[GitHub 文档](https://github.com/yourusername/1PanelOpenSourceApp/tree/main/docs)
- **问题**：[GitHub Issues](https://github.com/yourusername/1PanelOpenSourceApp/issues)
- **讨论**：[GitHub Discussions](https://github.com/yourusername/1PanelOpenSourceApp/discussions)

### 社区

- 加入我们的社区论坛
- 在社交媒体上关注我们
- 为项目做贡献

---

## 键盘快捷键（桌面端）

| 快捷键 | 操作 |
|--------|------|
| `Ctrl/Cmd + R` | 刷新当前视图 |
| `Ctrl/Cmd + F` | 搜索 |
| `Ctrl/Cmd + N` | 添加新服务器 |
| `Ctrl/Cmd + ,` | 打开设置 |
| `Esc` | 返回/关闭模态框 |

---

*最后更新：2025-01-12*
