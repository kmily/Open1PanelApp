# 主机管理模块索引

## 模块定位

主机管理模块是Open1PanelApp的**基础设施管理模块**，负责管理多台服务器的接入、监控和运维。该模块支持添加多台主机进行集中管理，实现跨服务器的统一监控和运维操作。

### 核心职责

1. **主机接入** - 添加、编辑、删除主机
2. **主机监控** - CPU、内存、磁盘、网络监控
3. **监控配置** - 监控阈值、告警设置
4. **状态同步** - 主机状态实时同步

## 子模块结构

```
主机管理/
├── 主机列表
│   ├── 列表展示
│   ├── 搜索过滤
│   └── 状态监控
├── 主机详情
│   ├── 基本信息
│   ├── 监控图表
│   └── 资源使用
├── 主机操作
│   ├── 添加主机
│   ├── 编辑主机
│   └── 删除主机
└── 监控设置
    ├── 阈值配置
    ├── 告警规则
    └── 通知设置
```

## API端点映射

| API端点 | 方法 | 功能描述 | 实现状态 |
|---------|------|---------|---------|
| `/core/hosts` | POST | 创建主机 | ✅ 已实现 |
| `/core/hosts/del` | POST | 删除主机 | ✅ 已实现 |
| `/core/hosts/{id}/update` | POST | 更新主机 | ✅ 已实现 |
| `/core/hosts/search` | POST | 搜索主机 | ✅ 已实现 |
| `/core/hosts/{id}` | GET | 获取主机详情 | ✅ 已实现 |
| `/core/hosts/{id}/monitor` | POST | 获取监控数据 | ✅ 已实现 |
| `/core/hosts/{id}/monitor/setting` | GET | 获取监控设置 | ✅ 已实现 |
| `/core/hosts/{id}/monitor/setting` | POST | 更新监控设置 | ✅ 已实现 |
| `/core/hosts/{id}/monitor/search` | POST | 搜索监控数据 | ✅ 已实现 |

## 现有实现

### API客户端
- [host_v2.dart](../../../lib/api/v2/host_v2.dart) - 9个API方法

### 数据模型
- [host_models.dart](../../../lib/data/models/host_models.dart) - 主机模型定义

## 主机状态

| 状态 | 说明 |
|------|------|
| **online** | 在线 |
| **offline** | 离线 |
| **warning** | 告警 |
| **error** | 错误 |

## 监控指标

| 指标 | 说明 |
|------|------|
| **CPU使用率** | CPU百分比 |
| **内存使用率** | 内存百分比 |
| **磁盘使用率** | 磁盘百分比 |
| **网络IO** | 上传/下载速度 |
| **系统负载** | Load Average |
| **运行时间** | Uptime |

## 后续规划

### 短期目标（1-2周）
1. 创建主机列表页面
2. 实现主机详情页面
3. 添加监控图表展示
4. 添加单元测试覆盖

### 中期目标（1个月）
1. 完善监控告警功能
2. 实现主机分组管理
3. 添加批量操作功能
4. 实现监控数据导出

### 长期目标
1. 支持主机自动发现
2. 实现主机拓扑图
3. 支持主机标签管理
4. 集成运维自动化

## 质量指标

| 指标 | 当前状态 | 目标 |
|------|---------|------|
| API实现 | 100% | 100% |
| 数据模型 | 100% | 100% |
| 单元测试 | 0% | ≥80% |
| 文档覆盖 | 0% | 100% |
| UI实现 | 0% | 100% |

---

**文档版本**: 1.0  
**最后更新**: 2026-02-14  
**维护者**: Open1Panel开发团队
